# Гибридный монолит
Основная часть функционала интернет-магазина реализована в виде модульного монолита, но для некоторых частей (Онлайн оплата, смс рассыльщик, e-mail рассыльщик, ЛК пользователей, Бонусная программа лояльности) используются микросервисы.

## Причины выбора данного подхода:
1. За основу берется модульный монолит, т.к. интеграция **с единой связующей базой данных LsFusion**, в которой:
    + создаются товары;
    + создаются прайсы;
    + загружаются остатки со склада (интеграция с 1С:УТ);
    + загружаются все чеки из розничной сети (интеграция с кассовым сервером);
    + загружаются все интернет-заказы (интеграция с ИМ);
    + обрабатываются интернет-заказы и т.д.
2. **Экономия.** Для разработки модульного монолита можно заключить договор с аутсорсинговой компанией. А в последующем для поддержки нанять собственную команду программистов.
3. **Простота в эксплуатации.** Сотрудники компании могут производить большинство настроек ИМ в одной админке.
4. **Интеграция со сторонними сервисами.** Интеграция с готовыми и надежными сервисами - проще, быстрее и дешевле, чем разрабатывать свое решение с нуля. Но для работы с ними разрабатываются микросервисы, которые формируют запросы обменов.
    + Для онлайн-оплаты используется платежная система Assist
    + Для смс-рассылки (акционные, авторизация) используется сервис для адресной SMS и Viber-рассылки SMS-ассистент.
    + Для email-рассылки (информирование о заказе) используется сервис Unisender
5. **Безопасность данных.** Хранение и использование персональных данные клиентов и сотрудников должно соответствовать законодательству о персональных данных РБ. 
    + Создание микросервиса “ЛК пользователей” для регистрации и авторизации пользователей, хранения всех данных о нем в отдельной защищенной БД.
    + ЛК предусматривает: персональные данные, история покупок, информация о дисконтной карте. 
6. **Возможность расширения бизнеса.** Если у бизнеса несколько направлений (магазины продукты/быт.химия, зоомагазины, аптеки и т.д.), то необходимо будет запускать несколько сайтов. 
    + Для удобства пользователей будет единый “ЛК пользователей” для всех ИМ.
    + Один МС “Бонусной программой лояльности”, в которой делается настройка для нескольких сайтов.
    + Т.к. монолит модульный, то при необходимости можно будет вынести  “Корзину” в отдельный микросервис для возможности объединения “корзин” разных ИМ. Позволит пользователю оформить визуально один заказ на разную продукцию (продукты, лекарства, зоотовары).

*Примечание:* 
+ *Предполагается, что архитектура второго ИМ такая же: модульный монолит с отдельной БД + миктосервисы (общие с другими ИМ).*
+ *Выносит в МС каталог, товары, новости, условия доставки, прайсы и т.д. не имеет смысла, т.к. информация в каждом ИМ будет индивидуальной и ею проще управлять в одном месте.*
